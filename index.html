<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galaxy Meow</title>
  <link rel="stylesheet" href="index.css">
  
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r142/three.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.142.0/build/three.min.js"></script>

</head>
<body>

  <!-- Start Menu -->
  <div class="start-menu">
    <div class="menu-bar">
      <button class="menu-button" id="startGame">Start</button>
      <button class="menu-button" id="openSettings">Settings</button>
      <button class="menu-button" id="openControls">Controls</button> <!-- New Controls Button -->
      <button class="menu-button" id="openCredits">Credits</button>
    </div>
  </div>

  <!-- Settings Modal -->
  <!-- <div class="modal" id="settingsModal">
    <div class="modal-header">Settings <span class="modal-close" id="closeSettings">×</span></div>
    <p>Settings not implemented yet.</p>
  </div> -->

  <!-- Controls Modal -->
  <div class="modal" id="controlsModal">
    <div class="modal-header">Controls <span class="modal-close" id="closeControls">×</span></div>
    <p>You can use the following controls:</p>
    <ul>
      <li>W - Move forward</li>
      <li>S - Move backward</li>
      <li>A - Move left</li>
      <li>D - Move right</li>
      <li>Space - Jump</li>
      <li>Oxygen Meter - You get 100 units of oxygen</li>
      <li>If you need help - Click The Cat</li>
      <li>Esc - Restart/Leave game</li>
      <li>Shift - Opens inventory</li>
      <li>Left mouse click - To select objects</li>
      <li>Right mouse click and drag - Look around the map</li>
    </ul>
  </div>

  <!-- Credits Modal -->
  <div class="modal" id="creditsModal">
    <div class="modal-header">Credits <span class="modal-close" id="closeCredits">×</span></div>
    <p>Game developed by Galaxy Meow.</p>
    <p>Our Team:
      <br>Claire
      <br>Wendy
      <br>Mayuri
      <br>Chloe
      <br>Dineo
      <br>Busisiwe
    </p>

    <p>Imported Models:
      <br>Rock by Danni Bittman [CC-BY] via Poly Pizza
      <br>Rocks by Quaternius
      <br>Rock by Quaternius renamed as RockQ
      <br>basic stone 3 by felix stief [CC-BY] via Poly Pizza renamed as basic_stone_3
      <br>Rocketship by jeremy [CC-BY] via Poly Pizza
      <br>Rubble Rocks by Kyle Hickman [CC-BY] via Poly Pizza renamed as Rubble_Rocks
      <br>Ruin by nha pham [CC-BY] via Poly Pizza
      <br>Space rock by 11.10melons on Sketchfab
      <br>Comet by Poly by Google [CC-BY] via Poly Pizza
    </p>
  </div>

  <script>
    //create background audio
const listener = new THREE.AudioListener();


// Create a global audio source
const sound = new THREE.Audio(listener);

// Load a sound and set it as the Audio object's buffer
const audioLoader = new THREE.AudioLoader();
audioLoader.load('public/sound/welcome-music.mp3', function (buffer) {
  sound.setBuffer(buffer);
  sound.setLoop(false);
  sound.setVolume(0.5);
  sound.play();
});


    // Start button 
    document.getElementById('startGame').addEventListener('click', function() {
      window.location.href = 'game.html';
    });

    // Open and close Settings Modal
    const settingsModal = document.getElementById('settingsModal');
    const creditsModal = document.getElementById('creditsModal');
    const controlsModal = document.getElementById('controlsModal'); // Controls Modal

    document.getElementById('openSettings').addEventListener('click', function() {
      settingsModal.style.display = 'block';
    });

    document.getElementById('closeSettings').addEventListener('click', function() {
      settingsModal.style.display = 'none';
    });

    // Open and close Controls Modal
    document.getElementById('openControls').addEventListener('click', function() {
      controlsModal.style.display = 'block';
    });

    document.getElementById('closeControls').addEventListener('click', function() {
      controlsModal.style.display = 'none';
    });

    // Open and close Credits Modal
    document.getElementById('openCredits').addEventListener('click', function() {
      creditsModal.style.display = 'block';
    });

    document.getElementById('closeCredits').addEventListener('click', function() {
      creditsModal.style.display = 'none';
    });

  </script>

</body>
</html>
